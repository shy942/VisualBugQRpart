dear imgui renderer backend metal platform backend osx implemented features renderer user texture binding mtl texture texture read faq texture renderer large meshes support vertices bit indices unmodified imgui impl files project examples folder examples prefer including entire imgui repository project copy submodule build backends learn dear gui faq started documentation local docs folder introduction links imgui cpp changelog minor older stripped git history details metal update deprecated property sample count raster sample count metal add dispatch synchronization metal bridge arc based systems metal fixed null dereference exit command buffer completion handler misc store backend data context struct allowing backend multiple contexts metal ignore draw cmd elem count rare technically manufactured user code metal metal support enable define imgui impl metal cpp imconfig file metal fixed crash clipping rect larger framebuffer submitted metal replaced direct access draw cmd texture draw cmd tex requirement metal change blending equation preserve alpha output buffer metal fixed texture storage mode building mac catalyst metal support large mesh vertices enable gui backend flags renderer vtx offset flag metal support special draw callback reset render callback reset render metal projecting clipping rectangles correctly draw data framebuffer scale multi viewports retina display misc setting backend renderer displayed window metal metal backend implementation include imgui ifndef imgui disable include imgui impl metal import time import metal metal pragma mark support classes wrapper mtl buffer object time reused interface metal buffer object property nonatomic strong mtl buffer buffer property nonatomic assign double reuse time instancetype init buffer mtl buffer buffer object encapsulates data uniquely identify render pipeline cache interface framebuffer descriptor object copying property nonatomic assign unsigned long sample count property nonatomic assign mtl pixel format color pixel format property nonatomic assign mtl pixel format depth pixel format property nonatomic assign mtl pixel format stencil pixel format instancetype init render pass descriptor mtl render pass descriptor render pass descriptor singleton stores long lived objects needed metal renderer backend stores render pipeline cache default font texture manages reusable buffer cache interface metal context object property nonatomic strong mtl device device property nonatomic strong mtl depth stencil depth stencil property nonatomic strong framebuffer descriptor framebuffer descriptor framebuffer descriptor current frame transient property nonatomic strong mutable dictionary render pipeline cache pipeline cache keyed framebuffer descriptors property nonatomic strong nullable mtl texture font texture property nonatomic strong mutable array metal buffer buffer cache property nonatomic assign double buffer cache purge metal buffer dequeue reusable buffer length nsu integer length device mtl device device mtl render pipeline render pipeline framebuffer descriptor framebuffer descriptor descriptor device mtl device device struct gui impl metal data metal context shared metal context gui impl metal data memset sizeof static gui impl metal data gui impl metal create backend data return gui impl metal data static gui impl metal data gui impl metal backend data return gui current context gui impl metal data gui backend renderer user data nullptr static void gui impl metal destroy backend data delete gui impl metal backend data static inline time interval mach absolute time seconds return time interval double clock gettime nsec clock uptime raw ifdef imgui impl metal cpp pragma mark dear gui metal backend api bool gui impl metal init mtl device device return gui impl metal init bridge mtl device device void gui impl metal frame mtl render pass descriptor render pass descriptor gui impl metal frame bridge mtl render pass descriptor render pass descriptor void gui impl metal render draw data draw data draw data mtl command buffer command buffer mtl render command encoder command encoder gui impl metal render draw data draw data bridge mtl command buffer command buffer bridge mtl render command encoder command encoder bool gui impl metal create fonts texture mtl device device return gui impl metal create fonts texture bridge mtl device device bool gui impl metal create device objects mtl device device return gui impl metal create device objects bridge mtl device device endif ifdef imgui impl metal cpp pragma mark dear gui metal backend api bool gui impl metal init mtl device device gui impl metal data gui impl metal create backend data gui gui backend renderer user data void backend renderer imgui impl metal backend flags gui backend flags renderer vtx offset honor draw cmd vtx offset field allowing large meshes shared metal context metal context alloc init shared metal context device device return true void gui impl metal shutdown gui impl metal data gui impl metal backend data assert nullptr renderer backend shutdown shutdown gui impl metal destroy device objects gui impl metal destroy backend data gui gui backend renderer nullptr backend renderer user data nullptr backend flags gui backend flags renderer vtx offset void gui impl metal frame mtl render pass descriptor render pass descriptor gui impl metal data gui impl metal backend data assert shared metal context nil metal context gui impl metal init shared metal context framebuffer descriptor framebuffer descriptor alloc init render pass descriptor render pass descriptor shared metal context depth stencil nil gui impl metal create device objects shared metal context device static void gui impl metal setup render draw data draw data mtl command buffer command buffer mtl render command encoder command encoder mtl render pipeline render pipeline metal buffer vertex buffer size vertex buffer offset unused command buffer gui impl metal data gui impl metal backend data command encoder set cull mode mtl cull mode command encoder set depth stencil shared metal context depth stencil setup viewport orthographic projection matrix visible imgui space lies draw data display pos left draw data display pos data data display size display min typically single viewport apps mtl viewport viewport origin origin width double draw data display size draw data framebuffer scale height double draw data display size draw data framebuffer scale znear zfar command encoder set viewport viewport float draw data display pos float draw data display pos draw data display size float draw data display pos float draw data display pos draw data display size float float viewport znear float float viewport zfar const float ortho projection command encoder set vertex bytes ortho projection length sizeof ortho projection command encoder set render pipeline render pipeline command encoder set vertex buffer vertex buffer buffer offset command encoder set vertex buffer offset vertex buffer offset metal render function void gui impl metal render draw data draw data draw data mtl command buffer command buffer mtl render command encoder command encoder gui impl metal data gui impl metal backend data metal context ctx shared metal context avoid rendering minimized scale coordinates retina displays screen coordinates framebuffer coordinates int width int draw data display size draw data framebuffer scale int height int draw data display size draw data framebuffer scale width height draw data cmd lists count return retrieve render pipeline compatible framebuffer config frame hit rate cache mtl render pipeline render pipeline ctx render pipeline cache ctx framebuffer descriptor render pipeline nil luck render pipeline render pipeline ctx render pipeline framebuffer descriptor ctx framebuffer descriptor device command buffer device cache render pipeline reuse ctx render pipeline cache ctx framebuffer descriptor render pipeline size vertex buffer length size draw data total vtx count sizeof draw vert size buffer length size draw data total idx count sizeof draw idx metal buffer vertex buffer ctx dequeue reusable buffer length vertex buffer length device command buffer device metal buffer buffer ctx dequeue reusable buffer length buffer length device command buffer device gui impl metal setup render draw data command buffer command encoder render pipeline vertex buffer project scissor clipping rectangles framebuffer space vec clip draw data display pos multi viewports vec clip scale draw data framebuffer scale retina display render command lists size vertex buffer offset size buffer offset int draw data cmd lists count const draw list cmd list draw data cmd lists memcpy char vertex buffer buffer contents vertex buffer offset cmd list vtx buffer data size cmd list vtx buffer size sizeof draw vert memcpy char buffer buffer contents buffer offset cmd list idx buffer data size cmd list idx buffer size sizeof draw idx int cmd cmd cmd list cmd buffer size cmd const draw cmd pcmd cmd list cmd buffer cmd pcmd user callback user callback registered draw list add callback draw callback reset render special callback user request renderer reset render pcmd user callback draw callback reset render gui impl metal setup render draw data command buffer command encoder render pipeline vertex buffer vertex buffer offset pcmd user callback cmd list pcmd project scissor clipping rectangles framebuffer space vec clip min pcmd clip rect clip clip scale pcmd clip rect clip clip scale vec clip max pcmd clip rect clip clip scale pcmd clip rect clip clip scale clamp viewport set scissor rect accept values bounds clip min clip min clip min clip min clip max width clip max float width clip max height clip max float height clip max clip min clip max clip min continue pcmd elem count draw indexed primitives validation accept continue apply scissor clipping rectangle mtl scissor rect scissor rect nsu integer clip min nsu integer clip min width nsu integer clip max clip min height nsu integer clip max clip min command encoder set scissor rect scissor rect bind texture draw texture tex pcmd tex command encoder set fragment texture bridge mtl texture tex command encoder set vertex buffer offset vertex buffer offset pcmd vtx offset sizeof draw vert command encoder draw indexed primitives mtl primitive type triangle count pcmd elem count type sizeof draw idx mtl type int mtl type int buffer buffer buffer buffer offset buffer offset pcmd idx offset sizeof draw idx vertex buffer offset size cmd list vtx buffer size sizeof draw vert buffer offset size cmd list idx buffer size sizeof draw idx command buffer add completed handler mtl command buffer dispatch async dispatch main queue gui impl metal data gui impl metal backend data nullptr synchronized shared metal context buffer cache shared metal context buffer cache add object vertex buffer shared metal context buffer cache add object buffer bool gui impl metal create fonts texture mtl device device gui impl metal data gui impl metal backend data gui gui retrieving uploading font atlas channels rgba texture theory tex data alpha upload channel texture save memory access bandwidth shader designed channel texture obvious texture facility render users textures change implementation unsigned char pixels int width height fonts tex data rgba pixels width height mtl texture descriptor texture descriptor mtl texture descriptor texture descriptor pixel format mtl pixel format rgba unorm width nsu integer width height nsu integer height mipmapped texture descriptor usage mtl texture usage shader read target osx target maccatalyst texture descriptor storage mode mtl storage mode managed texture descriptor storage mode mtl storage mode shared endif mtl texture texture device texture descriptor texture descriptor texture replace region mtl region nsu integer width nsu integer height mipmap level bytes pixels bytes row nsu integer width shared metal context font texture texture fonts set tex bridge void shared metal context font texture texture void return shared metal context font texture nil void gui impl metal destroy fonts texture gui impl metal data gui impl metal backend data gui gui shared metal context font texture nil fonts set tex bool gui impl metal create device objects mtl device device gui impl metal data gui impl metal backend data mtl depth stencil descriptor depth stencil descriptor mtl depth stencil descriptor alloc init depth stencil descriptor depth write enabled depth stencil descriptor depth compare function mtl compare function shared metal context depth stencil device depth stencil descriptor depth stencil descriptor gui impl metal create fonts texture device return true void gui impl metal destroy device objects gui impl metal data gui impl metal backend data gui impl metal destroy fonts texture shared metal context render pipeline cache remove objects pragma mark metal buffer implementation implementation metal buffer instancetype init buffer mtl buffer buffer super init buffer buffer reuse time mach absolute time seconds return pragma mark framebuffer descriptor implementation implementation framebuffer descriptor instancetype init render pass descriptor mtl render pass descriptor render pass descriptor super init sample count render pass descriptor color attachments texture sample count color pixel format render pass descriptor color attachments texture pixel format depth pixel format render pass descriptor depth attachment texture pixel format stencil pixel format render pass descriptor stencil attachment texture pixel format return nonnull copy zone nullable zone zone framebuffer descriptor copy framebuffer descriptor alloc zone zone init copy sample count sample count copy color pixel format color pixel format copy depth pixel format depth pixel format copy stencil pixel format stencil pixel format return copy nsu integer hash nsu integer sample count nsu integer color pixel format nsu integer depth pixel format nsu integer stencil pixel format nsu integer hash return hash bool equal object framebuffer descriptor object kind class framebuffer descriptor class return return sample count sample count color pixel format color pixel format depth pixel format depth pixel format stencil pixel format stencil pixel format pragma mark metal context implementation implementation metal context instancetype init super init render pipeline cache mutable dictionary dictionary buffer cache mutable array array buffer cache purge mach absolute time seconds return metal buffer dequeue reusable buffer length nsu integer length device mtl device device uint mach absolute time seconds synchronized buffer cache purge buffers buffer cache purge mutable array survivors mutable array array metal buffer candidate buffer cache candidate reuse time buffer cache purge survivors add object candidate buffer cache survivors mutable copy buffer cache purge buffer reuse metal buffer candidate nil metal buffer candidate buffer cache candidate buffer length length candidate nil candidate reuse time candidate reuse time candidate candidate candidate nil buffer cache remove object candidate candidate reuse time return candidate luck buffer mtl buffer backing device buffer length length options mtl resource storage mode shared return metal buffer alloc init buffer backing bilinear sampling required default set fonts flags font atlas flags baked lines style anti aliased lines tex false point nearest sampling mtl render pipeline render pipeline framebuffer descriptor framebuffer descriptor descriptor device mtl device device error error nil string shader source include metal stdlib namespace metal struct uniforms float projection matrix struct vertex float position attribute float tex coords attribute uchar color attribute struct vertex float position position float tex coords float color vertex vertex vertex main vertex stage constant uniforms uniforms buffer vertex position uniforms projection matrix float position tex coords tex coords color float color float return fragment fragment main vertex stage texture access sample texture texture constexpr sampler linear sampler coord normalized min filter linear mag filter linear mip filter linear tex color texture sample linear sampler tex coords return color tex color mtl library library device library source shader source options nil error error library nil log error failed create metal library error return nil mtl function vertex function library function vertex main mtl function fragment function library function fragment main vertex function nil fragment function nil log error failed metal shader functions library error return nil mtl vertex descriptor vertex descriptor mtl vertex descriptor vertex descriptor vertex descriptor attributes offset offsetof draw vert pos vertex descriptor attributes format mtl vertex format float position vertex descriptor attributes buffer vertex descriptor attributes offset offsetof draw vert vertex descriptor attributes format mtl vertex format float tex coords vertex descriptor attributes buffer vertex descriptor attributes offset offsetof draw vert col vertex descriptor attributes format mtl vertex format char color vertex descriptor attributes buffer vertex descriptor layouts step rate vertex descriptor layouts step function mtl vertex step function vertex vertex descriptor layouts stride sizeof draw vert mtl render pipeline descriptor pipeline descriptor mtl render pipeline descriptor alloc init pipeline descriptor vertex function vertex function pipeline descriptor fragment function fragment function pipeline descriptor vertex descriptor vertex descriptor pipeline descriptor raster sample count framebuffer descriptor sample count pipeline descriptor color attachments pixel format framebuffer descriptor color pixel format pipeline descriptor color attachments blending enabled pipeline descriptor color attachments rgb blend operation mtl blend operation add pipeline descriptor color attachments source rgb blend factor mtl blend factor source alpha pipeline descriptor color attachments destination rgb blend factor mtl blend factor source alpha pipeline descriptor color attachments alpha blend operation mtl blend operation add pipeline descriptor color attachments source alpha blend factor mtl blend factor pipeline descriptor color attachments destination alpha blend factor mtl blend factor source alpha pipeline descriptor depth attachment pixel format framebuffer descriptor depth pixel format pipeline descriptor stencil attachment pixel format framebuffer descriptor stencil pixel format mtl render pipeline render pipeline device render pipeline descriptor pipeline descriptor error error error nil log error failed create metal pipeline error return render pipeline endif ifndef imgui disable