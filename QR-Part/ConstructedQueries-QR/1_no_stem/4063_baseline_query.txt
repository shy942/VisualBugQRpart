renderer custom engine dear gui sizeof size sizeof draw idx sizeof draw vert define cplusplus define win define msc ver backend platform imgui impl win backend renderer imgui impl config flags config input text cursor blink config windows resize edges config memory compact timer backend flags mouse cursors set mouse pos renderer vtx offset fonts fonts flags tex size display size display framebuffer scale style window padding style window border size style frame padding style frame rounding style frame border size style item spacing style item spacing version branch dear gui version branch release renderer compiler ends imgui impl cpp imgui impl win cpp compiler msvc operating win issue question implement gui game lunia record lunia war original implementation direct hooking scene cpp static variables initialized game engine hwnd window typedef hresult stdcall scene direct device device function prototype scene scene original endscene typedef lresult callback wndproc hwnd uint wparam lparam wndproc wnd proc data static lpdirect null static lpdirect ddevice device null static dpresent parameters dpp static hwnd hwnd variables main setup called engine fully initialized wnd proc wndproc set window long ptr window gwlp wndproc long ptr wnd proc return false device return false void table reinterpret cast void device scene scene detour function pbyte table pbyte hooked scene hresult stdcall hooked scene direct device device static bool demo window true static bool window false static bool init true init init false imgui checkversion gui create context gui gui void gui style colors dark gui impl win init hwnd gui impl init device gui impl frame gui impl win frame gui frame static bool demo window true gui demo window demo window gui metrics window gui frame gui render gui impl render draw data gui draw data return scene device original ensdcene game draw fact problem rendering game interfering gui expert rendering rasterizing playing backend solution problem changing themes tweaking device initialization direct work common issue workarounds creating separate window drawing separately overlay time screenshots video